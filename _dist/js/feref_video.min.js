!function(){function e(e){for(var t=0;e;){if("BODY"==e.tagName){var n=e.scrollLeft||document.documentElement.scrollLeft;t+=e.offsetLeft-n+e.clientLeft}else t+=e.offsetLeft-e.scrollLeft+e.clientLeft;e=e.offsetParent}return t}for(var t=document.getElementsByTagName("feref-video"),n={renderControls:function(){var e=t[r].querySelector("video"),n=document.createElement("ul");e.parentNode.insertBefore(n,e.nextSibling);var c=t[r].querySelector("ul");c.setAttribute("class","controls"),c.setAttribute("id","controls-"+r),c.innerHTML='<li class="play-pause paused" id="play-pause-'+r+'"><img src="img/feref_video/control_play.svg" /></li><li class="progress-click" id="pbar-click-'+r+'"><div class="progress-container" id="pbar-container-'+r+'"><div class="progress" id="pbar-'+r+'"></div></div></li><li class="expand native" id="fullscreen-'+r+'"><img src="img/feref_video/control_fullscreen.svg" /></li><li class="mute-unmute" id="mute-unmute-'+r+'"><img src="img/feref_video/control_volume_high.svg" /></li>'},poster:function(){function e(){c.style.opacity=1}function n(){c.style.opacity=0}var c,l=t[r].hasAttribute("poster"),s=document.getElementById(t[r].querySelector("video").getAttribute("id"));switch(l){case!0:!function(){var e=(document.getElementById("play-pause-"+r),t[r].getAttribute("poster"));t[r].insertBefore(document.createElement("div"),t[r].querySelector("video")),t[r].children[0].setAttribute("id","poster-"+r),c=document.getElementById("poster-"+r),c.className="poster",c.style.backgroundImage="url("+e+")"}(),s.addEventListener("ended",e),s.addEventListener("pause",e),s.addEventListener("playing",n)}},playPause:function(){function n(e,t){e.addEventListener("click",function(){"play"==t?i.play():i.pause()})}function c(){var e=i.currentTime/i.duration*100;u.style.width=e+"%"}var l,s=document.getElementById("play-pause-"+r),i=document.getElementById(t[r].querySelector("video").getAttribute("id")),o=document.getElementById("pbar-click-"+r),u=(document.getElementById("pbar-container-"+r),document.getElementById("pbar-"+r)),a=document.getElementById("poster-"+r);o.addEventListener("click",function(t){var n=e(i),r=t.pageX-(n+o.offsetLeft),c=window.getComputedStyle(o).getPropertyValue("width");c=parseFloat(c.substr(0,c.length-2)),i.currentTime=r/c*i.duration}),i.addEventListener("playing",function(){s.innerHTML='<img src="img/feref_video/control_pause.svg" />',l=setInterval(c,30),n(s,"pause"),n(a,"pause")}),i.addEventListener("pause",function(){s.innerHTML='<img src="img/feref_video/control_play.svg" />',clearInterval(l),n(s,"play"),n(a,"play")}),i.addEventListener("ended",function(){i.currentTime=0,s.innerHTML='<img src="img/feref_video/control_replay.svg" />',clearInterval(l),n(s,"play"),n(a,"play")})},fullscreen:function(){function e(){function e(){l.removeAttribute("controls"),t()}function t(){i.style.zIndex=999999,i.classList.remove("fullscreen"),i.parentElement.removeAttribute("style"),s.className="expand native",s.innerHTML='<img src="img/feref_video/control_fullscreen.svg" />'}document.addEventListener("fullscreenchange",t),document.addEventListener("webkitfullscreenchange",t),document.addEventListener("mozfullscreenchange",t),document.addEventListener("MSFullscreenChange",e)}function n(t){function n(){function t(){l.muted=!1,i.classList.add("fullscreen"),i.style.zIndex=2147483647,s.className="expand fullscreen",s.innerHTML='<img src="img/feref_video/control_fullscreen_exit.svg" />',e()}function n(){l.muted=!1,l.setAttribute("controls"),t()}document.addEventListener("fullscreenchange",t),document.addEventListener("webkitfullscreenchange",t),document.addEventListener("mozfullscreenchange",t),document.addEventListener("MSFullscreenChange",n)}t.requestFullscreen?(n(),t.requestFullscreen()):t.msRequestFullscreen?(n(),t.msRequestFullscreen()):t.mozRequestFullScreen?(n(),t.mozRequestFullScreen()):t.webkitRequestFullscreen&&(n(),t.webkitRequestFullscreen())}function c(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()}var l=document.getElementById(t[r].querySelector("video").getAttribute("id")),s=document.getElementById("fullscreen-"+r),i=document.getElementById("controls-"+r);s.innerHTML='<img src="img/feref_video/control_fullscreen.svg" />',s.addEventListener("click",function(){var e=document.getElementById(this.parentElement.parentElement.querySelector("video").getAttribute("id")),t=s.className.split(" ")[1];switch(t){case"native":n(e);break;case"fullscreen":c()}e.addEventListener("ended",c)})},branding:function(){var e=t[r].hasAttribute("color"),n=t[r].getAttribute("color"),c=document.getElementById("pbar-"+r);switch(e){case!0:c.style.background=n;break;case!1:default:c.style.background="#ffffff"}},mute:function(){var e=document.getElementById("mute-unmute-"+r),n=t[r].querySelector("video");e.addEventListener("click",function(){var e=this.parentElement.parentElement.querySelector("video");switch(e.muted){case!0:e.muted=!1;break;case!1:e.muted=!0}}),n.addEventListener("volumechange",function(){switch(this.parentElement.parentElement.querySelector("video").muted){case!0:e.innerHTML='<img src="img/feref_video/control_volume_mute.svg" />';break;case!1:e.innerHTML='<img src="img/feref_video/control_volume_high.svg" />'}})},autohide:function(){var e=t[r].getAttribute("video-controls"),n=document.getElementById("controls-"+r);switch(e){case"show":n.className="controls show";break;case"hide":n.className="controls hide";break;case"autohide":n.className="controls autohide";break;default:n.className="controls show"}}},r=0;r<=t.length-1;r++)n.renderControls(),n.poster(),n.playPause(),n.fullscreen(),n.branding(),n.mute(),n.autohide()}();